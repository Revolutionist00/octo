import React from 'react';
import { render } from 'ink';
import SelectInput from 'ink-select-input';
//import sha256 from 'crypto-js/sha256';
import hmacSHA256 from 'crypto-js/hmac-sha256.js';
import Base16 from 'crypto-js/enc-hex.js';
import 'request';
import { jsx as _jsx } from "react/jsx-runtime";
const arg = process.argv.slice(2);
switch (arg[0]) {
  case '-l':
    var resource = '/products';
    break;
  case '-a':
    var resource = '/accounts';
    break;
  default:
    console.log('und');
}
;

//const CryptoJS = require('crypto-js');

// npm install crypto
//var crypto = require('crypto-js');
// npm install request
//var request = require('request');

// Set these in your environment, or enter them here with the actual string
var apiKey = '2q7DfBj1Gcik5lBE';
var apiSecret = 'ArtDbY362yWeW35whuXNeQzYC5nunFTW';

//get unix time in seconds
var timestamp = Math.floor(Date.now() / 1000);

// set the parameter for the request message
var req = {
  method: 'GET',
  path: '/api/v3/brokerage/' + resource,
  body: ''
};
var message = timestamp + req.method + req.path + req.body;
console.log(message);

//create a hexedecimal encoded SHA256 signature of the message
//var signature = crypto.createHmac("sha256", apiSecret).update(message).digest("hex");
//const hashDigest = sha256(nonce + message);
const signature = Base16.stringify(hmacSHA256(message, apiSecret));

//create the request options object
var options = {
  baseUrl: 'https://api.coinbase.com/',
  url: req.path,
  method: req.method,
  headers: {
    'CB-ACCESS-SIGN': signature,
    'CB-ACCESS-TIMESTAMP': timestamp,
    'CB-ACCESS-KEY': apiKey,
    'CB-VERSION': '2015-07-22'
  }
};
request(options, function (err, response) {
  if (err) console.log(err);
  console.log(response.body);
});
const Options1 = () => {
  const handleSelect = item => {
    // `item` = { label: 'First', value: 'first' }
    console.log(resource = item.value);
  };
  const items = [{
    label: 'List Accounts',
    value: '/accounts'
  }, {
    label: 'Cancel Orders',
    value: '/orders/batch_cancel'
  }, {
    label: 'List Orders',
    value: '/orders/historical/batch'
  }, {
    label: 'List Fills',
    value: '/orders/historical/fills'
  }, {
    label: 'Get Best Bid/Ask',
    value: '/best_bid_ask'
  }, {
    label: 'Get Product Book',
    value: '/product_book'
  }, {
    label: 'List Products',
    value: '/products'
  }, {
    label: 'Get Tran-sactions Summary',
    value: '/transaction_summary'
  }];
  return _jsx(SelectInput, {
    items: items,
    onSelect: handleSelect
  });
};
render(_jsx(Options1, {}));
//export default resource = item.value
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJSZWFjdCIsInJlbmRlciIsIlNlbGVjdElucHV0IiwiaG1hY1NIQTI1NiIsIkJhc2UxNiIsImpzeCIsIl9qc3giLCJhcmciLCJwcm9jZXNzIiwiYXJndiIsInNsaWNlIiwicmVzb3VyY2UiLCJjb25zb2xlIiwibG9nIiwiYXBpS2V5IiwiYXBpU2VjcmV0IiwidGltZXN0YW1wIiwiTWF0aCIsImZsb29yIiwiRGF0ZSIsIm5vdyIsInJlcSIsIm1ldGhvZCIsInBhdGgiLCJib2R5IiwibWVzc2FnZSIsInNpZ25hdHVyZSIsInN0cmluZ2lmeSIsIm9wdGlvbnMiLCJiYXNlVXJsIiwidXJsIiwiaGVhZGVycyIsInJlcXVlc3QiLCJlcnIiLCJyZXNwb25zZSIsIk9wdGlvbnMxIiwiaGFuZGxlU2VsZWN0IiwiaXRlbSIsInZhbHVlIiwiaXRlbXMiLCJsYWJlbCIsIm9uU2VsZWN0Il0sInNvdXJjZXMiOlsiY2xpLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge3JlbmRlcn0gZnJvbSAnaW5rJztcbmltcG9ydCBTZWxlY3RJbnB1dCBmcm9tICdpbmstc2VsZWN0LWlucHV0Jztcbi8vaW1wb3J0IHNoYTI1NiBmcm9tICdjcnlwdG8tanMvc2hhMjU2JztcbmltcG9ydCBobWFjU0hBMjU2IGZyb20gJ2NyeXB0by1qcy9obWFjLXNoYTI1Ni5qcyc7XG5pbXBvcnQgQmFzZTE2IGZyb20gJ2NyeXB0by1qcy9lbmMtaGV4LmpzJztcbmltcG9ydCAncmVxdWVzdCdcblxuY29uc3QgYXJnID0gcHJvY2Vzcy5hcmd2LnNsaWNlKDIpO1xuXG5zd2l0Y2ggKGFyZ1swXSkge1xuICAgIGNhc2UgJy1sJzpcbiAgICAgICAgdmFyIHJlc291cmNlID0gJy9wcm9kdWN0cydcblx0YnJlYWs7XG4gICAgY2FzZSAnLWEnOlxuXHR2YXIgcmVzb3VyY2UgPSAnL2FjY291bnRzJ1xuXHRicmVhaztcbiAgICBkZWZhdWx0OiBjb25zb2xlLmxvZyhcbiAgICAgICAgJ3VuZCcpO1xufTtcblxuLy9jb25zdCBDcnlwdG9KUyA9IHJlcXVpcmUoJ2NyeXB0by1qcycpO1xuXG4vLyBucG0gaW5zdGFsbCBjcnlwdG9cbi8vdmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0by1qcycpO1xuLy8gbnBtIGluc3RhbGwgcmVxdWVzdFxuLy92YXIgcmVxdWVzdCA9IHJlcXVpcmUoJ3JlcXVlc3QnKTtcblxuLy8gU2V0IHRoZXNlIGluIHlvdXIgZW52aXJvbm1lbnQsIG9yIGVudGVyIHRoZW0gaGVyZSB3aXRoIHRoZSBhY3R1YWwgc3RyaW5nXG52YXIgYXBpS2V5ID0gJzJxN0RmQmoxR2NpazVsQkUnO1xudmFyIGFwaVNlY3JldCA9ICdBcnREYlkzNjJ5V2VXMzV3aHVYTmVRellDNW51bkZUVyc7XG5cbi8vZ2V0IHVuaXggdGltZSBpbiBzZWNvbmRzXG52YXIgdGltZXN0YW1wID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG5cbi8vIHNldCB0aGUgcGFyYW1ldGVyIGZvciB0aGUgcmVxdWVzdCBtZXNzYWdlXG52YXIgcmVxID0ge1xuICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgcGF0aDogJy9hcGkvdjMvYnJva2VyYWdlLycgKyByZXNvdXJjZSxcbiAgICBib2R5OiAnJ1xufTtcblxudmFyIG1lc3NhZ2UgPSB0aW1lc3RhbXAgKyByZXEubWV0aG9kICsgcmVxLnBhdGggKyByZXEuYm9keTtcbmNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuXG4vL2NyZWF0ZSBhIGhleGVkZWNpbWFsIGVuY29kZWQgU0hBMjU2IHNpZ25hdHVyZSBvZiB0aGUgbWVzc2FnZVxuLy92YXIgc2lnbmF0dXJlID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgYXBpU2VjcmV0KS51cGRhdGUobWVzc2FnZSkuZGlnZXN0KFwiaGV4XCIpO1xuLy9jb25zdCBoYXNoRGlnZXN0ID0gc2hhMjU2KG5vbmNlICsgbWVzc2FnZSk7XG5jb25zdCBzaWduYXR1cmUgPSBCYXNlMTYuc3RyaW5naWZ5KGhtYWNTSEEyNTYobWVzc2FnZSwgYXBpU2VjcmV0KSk7XG5cbi8vY3JlYXRlIHRoZSByZXF1ZXN0IG9wdGlvbnMgb2JqZWN0XG52YXIgb3B0aW9ucyA9IHtcbiAgICBiYXNlVXJsOiAnaHR0cHM6Ly9hcGkuY29pbmJhc2UuY29tLycsXG4gICAgdXJsOiByZXEucGF0aCxcbiAgICBtZXRob2Q6IHJlcS5tZXRob2QsXG4gICAgaGVhZGVyczoge1xuICAgICAgICAnQ0ItQUNDRVNTLVNJR04nOiBzaWduYXR1cmUsXG4gICAgICAgICdDQi1BQ0NFU1MtVElNRVNUQU1QJzogdGltZXN0YW1wLFxuICAgICAgICAnQ0ItQUNDRVNTLUtFWSc6IGFwaUtleSxcbiAgICAgICAgJ0NCLVZFUlNJT04nOiAnMjAxNS0wNy0yMidcbiAgICB9XG59O1xuXG5cbnJlcXVlc3Qob3B0aW9ucyxmdW5jdGlvbihlcnIsIHJlc3BvbnNlKXtcbiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmJvZHkpO1xufSk7XG5cblxuY29uc3QgT3B0aW9uczEgPSAoKSA9PiB7XG5cdGNvbnN0IGhhbmRsZVNlbGVjdCA9IGl0ZW0gPT4ge1xuXHRcdC8vIGBpdGVtYCA9IHsgbGFiZWw6ICdGaXJzdCcsIHZhbHVlOiAnZmlyc3QnIH1cblx0XHRjb25zb2xlLmxvZyhyZXNvdXJjZSA9IGl0ZW0udmFsdWUpXG5cdH07XG5cblx0Y29uc3QgaXRlbXMgPSBbXG5cdFx0e1xuXHRcdGxhYmVsOiAnTGlzdCBBY2NvdW50cycsXG5cdFx0dmFsdWU6ICcvYWNjb3VudHMnXG5cdFx0fSxcblx0XHR7XG5cdFx0bGFiZWw6ICdDYW5jZWwgT3JkZXJzJyxcblx0XHR2YWx1ZTogJy9vcmRlcnMvYmF0Y2hfY2FuY2VsJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdGxhYmVsOiAnTGlzdCBPcmRlcnMnLFxuXHRcdHZhbHVlOiAnL29yZGVycy9oaXN0b3JpY2FsL2JhdGNoJ1xuXHRcdH0sXG5cdFx0e1xuXHRcdGxhYmVsOiAnTGlzdCBGaWxscycsXG5cdFx0dmFsdWU6ICcvb3JkZXJzL2hpc3RvcmljYWwvZmlsbHMnXG5cdFx0fSxcblx0XHR7XG5cdFx0bGFiZWw6ICdHZXQgQmVzdCBCaWQvQXNrJyxcblx0XHR2YWx1ZTogJy9iZXN0X2JpZF9hc2snXG5cdFx0fSxcblx0XHR7XG5cdFx0bGFiZWw6ICdHZXQgUHJvZHVjdCBCb29rJyxcblx0XHR2YWx1ZTogJy9wcm9kdWN0X2Jvb2snXG5cdFx0fSxcblx0XHR7XG5cdFx0bGFiZWw6ICdMaXN0IFByb2R1Y3RzJyxcblx0XHR2YWx1ZTogJy9wcm9kdWN0cydcblx0XHR9LFxuXHRcdHtcblx0XHRsYWJlbDogJ0dldCBUcmFuLXNhY3Rpb25zIFN1bW1hcnknLFxuXHRcdHZhbHVlOiAnL3RyYW5zYWN0aW9uX3N1bW1hcnknXG5cdFx0fVxuXHRdO1xuXG5cdHJldHVybiA8U2VsZWN0SW5wdXQgaXRlbXM9e2l0ZW1zfSBvblNlbGVjdD17aGFuZGxlU2VsZWN0fSAvPjtcbn07XG5cbnJlbmRlcig8T3B0aW9uczEgLz4pO1xuLy9leHBvcnQgZGVmYXVsdCByZXNvdXJjZSA9IGl0ZW0udmFsdWVcbiJdLCJtYXBwaW5ncyI6IkFBQUEsT0FBT0EsS0FBSyxNQUFNLE9BQU87QUFDekIsU0FBUUMsTUFBTSxRQUFPLEtBQUs7QUFDMUIsT0FBT0MsV0FBVyxNQUFNLGtCQUFrQjtBQUMxQztBQUNBLE9BQU9DLFVBQVUsTUFBTSwwQkFBMEI7QUFDakQsT0FBT0MsTUFBTSxNQUFNLHNCQUFzQjtBQUN6QyxPQUFPLFNBQVM7QUFBQSxTQUFBQyxHQUFBLElBQUFDLElBQUE7QUFFaEIsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUVqQyxRQUFRSCxHQUFHLENBQUMsQ0FBQyxDQUFDO0VBQ1YsS0FBSyxJQUFJO0lBQ0wsSUFBSUksUUFBUSxHQUFHLFdBQVc7SUFDakM7RUFDRyxLQUFLLElBQUk7SUFDWixJQUFJQSxRQUFRLEdB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