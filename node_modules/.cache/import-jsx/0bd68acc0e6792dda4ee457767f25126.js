import './cli.js';
import 'crypto-js';
//const CryptoJS = require('crypto-js');

// npm install crypto
//var crypto = require('crypto-js');
// npm install request
//var request = require('request');

// Set these in your environment, or enter them here with the actual string
var apiKey = '2q7DfBj1Gcik5lBE';
var apiSecret = 'ArtDbY362yWeW35whuXNeQzYC5nunFTW';

//get unix time in seconds
var timestamp = Math.floor(Date.now() / 1000);

// set the parameter for the request message
var req = {
  method: 'GET',
  path: '/api/v3/brokerage/' + resource,
  body: ''
};
var message = timestamp + req.method + req.path + req.body;
console.log(message);

//create a hexedecimal encoded SHA256 signature of the message
var signature = crypto.createHmac("sha256", apiSecret).update(message).digest("hex");

//create the request options object
var options = {
  baseUrl: 'https://api.coinbase.com/',
  url: req.path,
  method: req.method,
  headers: {
    'CB-ACCESS-SIGN': signature,
    'CB-ACCESS-TIMESTAMP': timestamp,
    'CB-ACCESS-KEY': apiKey,
    'CB-VERSION': '2015-07-22'
  }
};
request(options, function (err, response) {
  if (err) console.log(err);
  console.log(response.body);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJhcGlLZXkiLCJhcGlTZWNyZXQiLCJ0aW1lc3RhbXAiLCJNYXRoIiwiZmxvb3IiLCJEYXRlIiwibm93IiwicmVxIiwibWV0aG9kIiwicGF0aCIsInJlc291cmNlIiwiYm9keSIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwic2lnbmF0dXJlIiwiY3J5cHRvIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsIm9wdGlvbnMiLCJiYXNlVXJsIiwidXJsIiwiaGVhZGVycyIsInJlcXVlc3QiLCJlcnIiLCJyZXNwb25zZSJdLCJzb3VyY2VzIjpbInRlc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuL2NsaS5qcyc7XG5pbXBvcnQgJ2NyeXB0by1qcyc7XG4vL2NvbnN0IENyeXB0b0pTID0gcmVxdWlyZSgnY3J5cHRvLWpzJyk7XG5cbi8vIG5wbSBpbnN0YWxsIGNyeXB0b1xuLy92YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvLWpzJyk7XG4vLyBucG0gaW5zdGFsbCByZXF1ZXN0XG4vL3ZhciByZXF1ZXN0ID0gcmVxdWlyZSgncmVxdWVzdCcpO1xuXG4vLyBTZXQgdGhlc2UgaW4geW91ciBlbnZpcm9ubWVudCwgb3IgZW50ZXIgdGhlbSBoZXJlIHdpdGggdGhlIGFjdHVhbCBzdHJpbmdcbnZhciBhcGlLZXkgPSAnMnE3RGZCajFHY2lrNWxCRSc7XG52YXIgYXBpU2VjcmV0ID0gJ0FydERiWTM2MnlXZVczNXdodVhOZVF6WUM1bnVuRlRXJztcblxuLy9nZXQgdW5peCB0aW1lIGluIHNlY29uZHNcbnZhciB0aW1lc3RhbXAgPSBNYXRoLmZsb29yKERhdGUubm93KCkgLyAxMDAwKTtcblxuLy8gc2V0IHRoZSBwYXJhbWV0ZXIgZm9yIHRoZSByZXF1ZXN0IG1lc3NhZ2VcbnZhciByZXEgPSB7XG4gICAgbWV0aG9kOiAnR0VUJyxcbiAgICBwYXRoOiAnL2FwaS92My9icm9rZXJhZ2UvJyArIHJlc291cmNlLFxuICAgIGJvZHk6ICcnXG59O1xuXG52YXIgbWVzc2FnZSA9IHRpbWVzdGFtcCArIHJlcS5tZXRob2QgKyByZXEucGF0aCArIHJlcS5ib2R5O1xuY29uc29sZS5sb2cobWVzc2FnZSk7XG5cbi8vY3JlYXRlIGEgaGV4ZWRlY2ltYWwgZW5jb2RlZCBTSEEyNTYgc2lnbmF0dXJlIG9mIHRoZSBtZXNzYWdlXG52YXIgc2lnbmF0dXJlID0gY3J5cHRvLmNyZWF0ZUhtYWMoXCJzaGEyNTZcIiwgYXBpU2VjcmV0KS51cGRhdGUobWVzc2FnZSkuZGlnZXN0KFwiaGV4XCIpO1xuXG4vL2NyZWF0ZSB0aGUgcmVxdWVzdCBvcHRpb25zIG9iamVjdFxudmFyIG9wdGlvbnMgPSB7XG4gICAgYmFzZVVybDogJ2h0dHBzOi8vYXBpLmNvaW5iYXNlLmNvbS8nLFxuICAgIHVybDogcmVxLnBhdGgsXG4gICAgbWV0aG9kOiByZXEubWV0aG9kLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NCLUFDQ0VTUy1TSUdOJzogc2lnbmF0dXJlLFxuICAgICAgICAnQ0ItQUNDRVNTLVRJTUVTVEFNUCc6IHRpbWVzdGFtcCxcbiAgICAgICAgJ0NCLUFDQ0VTUy1LRVknOiBhcGlLZXksXG4gICAgICAgICdDQi1WRVJTSU9OJzogJzIwMTUtMDctMjInXG4gICAgfVxufTtcblxucmVxdWVzdChvcHRpb25zLGZ1bmN0aW9uKGVyciwgcmVzcG9uc2Upe1xuICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAgY29uc29sZS5sb2cocmVzcG9uc2UuYm9keSk7XG59KTtcblxuIl0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLFVBQVU7QUFDakIsT0FBTyxXQUFXO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsSUFBSUEsTUFBTSxHQUFHLGtCQUFrQjtBQUMvQixJQUFJQyxTQUFTLEdBQUcsa0NBQWtDOztBQUVsRDtBQUNBLElBQUlDLFNBQVMsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7O0FBRTdDO0FBQ0EsSUFBSUMsR0FBRyxHQUFHO0VBQ05DLE1BQU0sRUFBRSxLQUFLO0VBQ2JDLElBQUksRUFBRSxvQkFBb0IsR0FBR0MsUUFBUTtFQUNyQ0MsSUFBSSxFQUFFO0FBQ1YsQ0FBQztBQUVELElBQUlDLE9BQU8sR0FBR1YsU0FBUyxHQUFHSyxHQUFHLENBQUNDLE1BQU0sR0FBR0QsR0FBRyxDQUFDRSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0ksSUFBSTtBQUMxREUsT0FBTyxDQUFDQyxHQUFHLENBQUNGLE9BQU8sQ0FBQzs7QUFFcEI7QUFDQSxJQUFJRyxTQUFTLEdBQUdDLE1BQU0sQ0FBQ0MsVUFBVSxDQUFDLFFBQVEsRUFBRWhCLFNBQVMsQ0FBQyxDQUFDaUIsTUFBTSxDQUFDTixPQUFPLENBQUMsQ0FBQ08sTUFBTSxDQUFDLEtBQUssQ0FBQzs7QUFFcEY7QUFDQSxJQUFJQyxPQUFPLEdBQUc7RUFDVkMsT0FBTyxFQUFFLDJCQUEyQjtFQUNwQ0MsR0FBRyxFQUFFZixHQUFHLENBQUNFLElBQUk7RUFDYkQsTUFBTSxFQUFFRCxHQUFHLENBQUNDLE1BQU07RUFDbEJlLE9BQU8sRUFBRTtJQUNMLGdCQUFnQixFQUFFUixTQUFTO0lBQzNCLHFCQUFxQixFQUFFYixTQUFTO0lBQ2hDLGVBQWUsRUFBRUYsTUFBTTtJQUN2QixZQUFZLEVBQUU7RUFDbEI7QUFDSixDQUFDO0FBRUR3QixPQUFPLENBQUNKLE9BQU8sRUFBQyxVQUFTSyxHQUFHLEVBQUVDLFFBQVEsRUFBQztFQUNuQyxJQUFJRCxHQUFHLEVBQUVaLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVyxHQUFHLENBQUM7RUFDekJaLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDWSxRQUFRLENBQUNmLElBQUksQ0FBQztBQUM5QixDQUFDLENBQUMifQ==